#!/bin/bash
for f in $(ls ./*32.nasm); do
	nasm -f elf32 $f;
done;
gcc -w -m32 -msse -O0 -no-pie ./*32.o fss32c.c -o fss32c -lm;
pars="-c ../../data/coeff32_125.ds2 -r ../../data/rand32_125_735_750.ds2 -x ../../data/x32_125_735.ds2 -np 735 -si 0.006 -sv 0.0008 -w 0.08 -it $1 -d";
# for arg; do pars=$pars" "$arg; done;
echo $pars;
./fss32c $pars

# CORRETTO
# x[734][0] = 0.000614
# y[734][0] = 0.001186
# x[734][1] = 0.005963
# y[734][1] = 0.010814
# x[734][2] = 0.005290
# y[734][2] = 0.008552
# x[734][3] = -0.004733
# y[734][3] = -0.005666
# rand[732][0] = -0.059662
# rand[732][1] = -0.007294
# rand[732][2] = 0.551693
# rand[732][3] = -0.894627



# x[734][0] = 0.000614
# y[734][0] = 0.001875
# x[734][1] = 0.005963
# y[734][1] = 0.009906
# x[734][2] = 0.005290
# y[734][2] = 0.006417
# x[734][3] = -0.004733
# y[734][3] = -0.003417
# rand[732][0] = 0.396987
# rand[732][1] = 0.647984
# rand[732][2] = 0.752644
# rand[732][3] = 0.307342